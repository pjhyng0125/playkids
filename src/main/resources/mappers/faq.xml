<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="faq">
  <!-- 공통된(중복된) sql문 작성 -->
  <sql id="search">
   <if test="searchType != null">
     <choose>
      <when test="searchType=='t'.toString()">
         where title like '%'||#{keyword}||'%'
      </when>
      <when test="searchType=='c'.toString()">
         where content like '%'||#{keyword}||'%'
      </when>
      <when test="searchType=='w'.toString()">
         where writer like '%'||#{keyword}||'%'
      </when>
      <otherwise></otherwise>
    </choose> 
   </if>
  </sql>

	<!-- faq 입력 -->
	<insert id="create">
		insert into faq(fno,fcategory,ftitle,fanswer) 
		values (faq_seq.nextval,#{fcategory},#{ftitle},#{fanswer})
	</insert>
	
	<select id="listAll" resultType="FaqVO">
		select fcategory,ftitle,fanswer
		from faq
		order by fno desc
	</select>
  
   <select id="listSearchCount" resultType="int">
  	select count(*) 
  	from faq 
  </select>
  

  

	

</mapper>